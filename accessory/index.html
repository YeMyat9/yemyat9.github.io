<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <title>Car Accessories</title>
    <link rel="shortcut icon" href="mylogo.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

    <section class="bg-dark text-white">
        <div class="container" style="padding-top: 1.2rem;">
            <div class="row">
                <div class="col-sm-3">
                    <h2 class="text-danger font-weight-bold">Dest Road</h2>
                    <p>
                        789 Maple Drive
                        <br>Suite 101
                        <br>New York City, EX
                        <br>USA, 54321
                        <br>
    
                        <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
                        : (555) 123-4567
    
                        <br>
                        <span class="glyphicon glyphicon-phone" aria-hidden="true"></span>
                        : (555) 765-4321
                </div>
                <div class="col-sm-6"></div>
                <div class="col-sm-3 text-center">
                    <h1 class="text-danger font-weight-bold">Quotation</h1>
                    <img src="mylogo.png" style="width:100px;height:100px;">
                </div>
            </div>
        </div>
    
        <div class="container">
            <div class="row">
                <div class="col-sm-4">
                    <h3 class="text-danger font-weight-bold">Customer:</h3>
                    <b>John Doe</b><br>
                    1234 Elm Street<br>
                    Springfield<br>
                    IL 62704
                </div>
                <div class="col-sm-4">
                    <h3 class="text-danger font-weight-bold">Ship to:</h3>
                    <b>Walking Street</b><br>
                    5678 Oak Avenue<br>
                    Lincoln<br>
                    NE 68510
    
                </div>
    
                <div class="col-sm-4">
                    <h4 class="quotationDate text-danger font-weight-bold">2024/7/10</h4>
                </div>
            </div>
        </div>
    
        <!-- <button type=" button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">
            Add Item
        </button> -->
        <button type="button" class="btn btn-info" style="display: block; margin: 0 auto; margin-top: 1rem; margin-bottom: 1rem;" data-toggle="modal" data-target="#exampleModal">
            Add Item
        </button>

        <table class=" table table-striped table-bordered table-condensed" id="quotationTable">
            <thead class="bg-danger text-white">
                <tr>
                    <th class="text-center">Accessories</th>
                    <th class="text-center">Quantity</th>
                    <th class="text-center">Action</th>
                    <th class="text-center">Amount</th>
                </tr>
            </thead>

            <tbody class="bg-secondary" id="list">
    
            </tbody>
    
            <tfoot class="bg-secondary text-white">
                <tr id="sub-total">
                    <td colspan="3" class="text-right font-weight-bold" > Subtotal</td>
                    <td colspan="1" class="text-center font-weight-semibold" id="totalPrice">---</td>
                </tr>
                <tr>
                     <td colspan="3" class="text-right font-weight-bold"> VAT</td>
                       <td colspan="1" class="text-center font-weight-semibold" id="vatAmount">---</td>
                </tr>
                <!-- <tr>
                       <td colspan="3" class="text-right font-weight-semibold"> Shipping &amp; Handling</td>
                      <td colspan="1" class="text-center font-weight-semibold" id="bottom-line">---</td>
                </tr> -->
                <tr>
                    <td colspan="3" class="text-right font-weight-bold"> Total Price</td>
                    <td colspan="1" class="text-center font-weight-semibold" id="netAmount">---</td>
                </tr>
            </tfoot>
        </table>

        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                        <h3 class="text-danger font-weight-bold">Terms and Conditions</h3>
                        <p>
                            Please allow 2-4 weeks for delivery.
                            <br>
                            Please make checks payable to: Dest Road
                            <br>
                            Thank you for your business.
                        </p>
                    </div>
                    <div class="col-sm-6">
                        <h3 class="text-danger font-weight-bold">Notes</h3>
                        <p>
                            If you have any questions, please contact:
                            <br>
                            Phone: (555) 123-4567
                            <br>
                            Email: destvoyage34@gmail.com
        </footer>
    </section>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="exampleModalLabel">Add Item</h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="accessoryForm">
                        <label for="accessory">Select an accessory:</label>
                        <select id="accessory">
                            <option value="100">Car Cover</option>
                            <option value="200">Floor Mats</option>
                            <option value="30">Seat Covers</option>
                            <option value="40">Phone Holder</option>
                        </select>
                        <br>
                        <label for="amount">Amount:</label>
                        <input type="number" id="amount" min="1" value="1">
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-info" onclick="addToProductList()">Save New Item</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous">
    </script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous">
    </script>

<script>
    var totalPrice = 0;

    function addToProductList() {
        var $accessorySelect = $("#accessory");
        var $accessoryOption = $accessorySelect.find("option:selected");
        var accessoryName = $accessoryOption.text();
        var accessoryPrice = parseFloat($accessoryOption.val());
        var amount = parseInt($("#amount").val());

        var $productList = $("#list");
        var $newRow = $("<tr>");
        var $accessoryCell = $("<td>").text(accessoryName).addClass("text-center");
        var $amountCell = $("<td>").text(amount).addClass("text-center");  
        var $cancelCell = $("<td>").html('<button type="button" class="btn btn-danger" onclick="removeProduct(this)">X</button>').addClass("text-center");
        var $priceCell = $("<td>").text((accessoryPrice * amount).toFixed(2)).addClass("text-center");

        $newRow.append($accessoryCell).append($amountCell).append($cancelCell).append($priceCell);
        $productList.append($newRow);

        // Update the total price
        totalPrice += accessoryPrice * amount;
        $("#totalPrice").text(totalPrice.toFixed(2));

        // Calculate VAT and NET Amount
        var vatRate = 0.07; // 7% VAT rate
        var vatAmount = totalPrice * vatRate;
        $("#vatAmount").text(vatAmount.toFixed(2));
        var netAmount = totalPrice + vatAmount;
        $("#netAmount").text(netAmount.toFixed(2));
    }

    function removeProduct(button) {
        var $row = $(button).closest("tr");
        var price = parseFloat($row.find("td").eq(3).text());
        totalPrice -= price;
        $row.remove();
        $("#totalPrice").text(totalPrice.toFixed(2));
        var vatRate = 0.07; // 7% VAT rate
        var vatAmount = totalPrice * vatRate;
        $("#vatAmount").text(vatAmount.toFixed(2));
        var netAmount = totalPrice + vatAmount;
        $("#netAmount").text(netAmount.toFixed(2));
    }

    $(document).ready(function(){
        $("#addButton").on("click", addToProductList);
    });
</script>

    </body>

</html>